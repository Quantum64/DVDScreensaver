{"version":3,"sources":["App.js","index.js"],"names":["code","mappings","App","speed","down","right","frame","nearMissAnimation","hitAnimation","codeIndex","cheat","_this2","this","app","PIXI","width","window","innerWidth","height","innerHeight","transparent","renderer","autoResize","onresize","resize","scale","Math","min","sprite","swidth","sheight","nearMiss","missedBy","_loop","map","_i","value","key","isDown","isUp","press","undefined","release","downHandler","event","preventDefault","upHandler","downListener","bind","upListener","addEventListener","unsubscribe","removeEventListener","keyboard","checkCode","length","element","_this3","children","appendChild","view","add","load","initializeRender","_this4","graphics","beginFill","drawRect","stage","addChild","resources","texture","tint","x","random","y","ticker","delta","tick","interactive","mousedown","touchstart","mouseup","touchend","BitmapText","font","hit","removeHit","removeNearMiss","offset","text","round","renderNearMiss","removeMissedBy","renderHit","lookForward","bounce","i","renderMissedBy","rgb","push","floor","_this5","react_default","a","createElement","ref","injectPixiContext","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.6f9f87d3.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\nimport * as PIXI from \"pixi.js\";\n\nconst near = 20;\nconst scaleFactor = 800;\nconst code = [\"up\", \"up\", \"down\", \"down\", \"left\", \"right\", \"left\", \"right\", \"b\", \"a\"]\nconst mappings = [\n  [\"ArrowDown\", \"down\"],\n  [\"ArrowUp\", \"up\"],\n  [\"ArrowLeft\", \"left\"],\n  [\"ArrowRight\", \"right\"],\n  [\"a\", \"a\"],\n  [\"b\", \"b\"]\n]\n\nclass App extends Component {\n  speed = 1;\n  down = 1;\n  right = 1;\n  frame = 0;\n  nearMissAnimation = 0;\n  hitAnimation = 0;\n  codeIndex = 0;\n  cheat = false;\n\n  componentWillMount() {\n    this.app = new PIXI.Application({ width: window.innerWidth, height: window.innerHeight, transparent: false });\n    this.app.renderer.autoResize = true;\n    window.onresize = () => {\n      this.app.renderer.resize(window.innerWidth, window.innerHeight);\n      const scale = Math.min(window.innerHeight, window.innerWidth) / scaleFactor;\n      this.sprite.width = this.swidth * scale;\n      this.sprite.height = this.sheight * scale;\n      this.nearMiss.scale = new PIXI.Point(0.5 * scale, 0.5 * scale);\n      this.missedBy.scale = new PIXI.Point(0.5 * scale, 0.5 * scale);\n    }\n    for (const map of mappings) {\n      keyboard(map[0]).press = () => {\n        if (code[this.codeIndex] === map[1]) {\n          this.codeIndex++;\n          this.checkCode();\n          return;\n        }\n        this.codeIndex = 0;\n      };\n    }\n  }\n\n  checkCode() {\n    if (this.codeIndex >= code.length) {\n      this.cheat = true;\n      this.codeIndex = 0;\n      this.speed = 1000;\n    }\n  }\n\n  injectPixiContext(element) {\n    if (element && element.children.length <= 0) {\n      element.appendChild(this.app.view);\n      PIXI.loader.add(\"dvd\", \"dvd.png\").add(\"title.xml\").add(\"text.xml\").load(() => this.initializeRender());\n    }\n  }\n\n  initializeRender() {\n    const scale = Math.min(window.innerHeight, window.innerWidth) / scaleFactor;\n    const graphics = new PIXI.Graphics();\n    graphics.beginFill(0x000000);\n    graphics.drawRect(0, 0, this.app.renderer.width, this.app.renderer.height);\n    this.app.stage.addChild(graphics);\n    this.sprite = new PIXI.Sprite(PIXI.loader.resources[\"dvd\"].texture);\n    this.sprite.tint = 0xff0000;\n    this.sprite.x = Math.random() * 300;\n    this.sprite.y = Math.random() * 300;\n    this.swidth = this.sprite.width;\n    this.sheight = this.sprite.height;\n    this.sprite.width = this.swidth * scale;\n    this.sprite.height = this.sheight * scale;\n    this.app.stage.addChild(this.sprite);\n    this.app.ticker.add((delta) => this.tick(delta));\n    this.app.stage.interactive = true;\n    this.app.stage.mousedown = event => this.nearMissAnimation <= 0 ? this.speed = 100 : this.speed = 1;\n    this.app.stage.touchstart = event => this.nearMissAnimation <= 0 ? this.speed = 100 : this.speed = 1;\n    this.app.stage.mouseup = event => this.speed = 1;\n    this.app.stage.touchend = event => this.speed = 1;\n    this.nearMiss = new PIXI.extras.BitmapText(\"Near Miss\", { font: \"110px Arcade Interlaced\" });\n    this.nearMiss.scale = new PIXI.Point(0.5 * scale, 0.5 * scale);\n    this.nearMiss.tint = 0xcc0000;\n    this.hit = new PIXI.extras.BitmapText(\"HIT\", { font: \"300px Arcade Interlaced\" });\n    this.hit.scale = new PIXI.Point(0.5 * scale, 0.5 * scale);\n    this.hit.tint = 0x007a00;\n    this.removeHit();\n    this.removeNearMiss();\n    this.missedBy = new PIXI.extras.BitmapText(\"\", { font: \"48px Arcade Normal\" });\n    this.missedBy.scale = new PIXI.Point(0.5 * scale, 0.5 * scale);\n    this.app.stage.addChild(this.nearMiss);\n    this.app.stage.addChild(this.missedBy);\n    this.app.stage.addChild(this.hit);\n  }\n\n  removeNearMiss() {\n    this.nearMiss.x = this.app.renderer.width + 3000;\n    this.nearMiss.y = this.app.renderer.height + 3000;\n  }\n\n  removeMissedBy() {\n    this.missedBy.x = this.app.renderer.width + 3000;\n    this.missedBy.y = this.app.renderer.height + 3000;\n  }\n\n  renderNearMiss() {\n    this.nearMiss.x = (this.app.renderer.width / 2) - (this.nearMiss.width / 2);\n    this.nearMiss.y = (this.app.renderer.height / 2) - (this.nearMiss.height / 2);\n  }\n\n  renderHit() {\n    this.hit.x = (this.app.renderer.width / 2) - (this.hit.width / 2);\n    this.hit.y = (this.app.renderer.height / 2) - (this.hit.height / 2);\n  }\n\n  removeHit() {\n    this.hit.x = this.app.renderer.width + 3000;\n    this.hit.y = this.app.renderer.height + 3000;\n  }\n\n  renderMissedBy(offset) {\n    this.missedBy.text = \"Missed By \" + Math.round(offset) + \" Pixel\" + (offset > 1 ? \"s\" : \"\");\n    this.missedBy.x = (this.app.renderer.width / 2) - (this.missedBy.width / 2);\n    this.missedBy.y = (this.app.renderer.height / 2) - (this.missedBy.height / 2) + (60 * (Math.min(window.innerHeight, window.innerWidth) / scaleFactor));\n  }\n\n  tick(delta) {\n    this.frame++;\n    if (this.frame % 30 === 0 || this.nearMissAnimation === 1 || this.hitAnimation === 1) {\n      if (this.nearMissAnimation > 0) {\n        if (this.nearMissAnimation % 2 === 0 || this.nearMissAnimation === 1) {\n          this.renderNearMiss();\n        } else {\n          this.removeNearMiss();\n          if (this.nearMissAnimation >= 6) {\n            this.nearMissAnimation = -1;\n            this.removeMissedBy();\n          }\n        }\n        this.nearMissAnimation++;\n      }\n      if (this.hitAnimation > 0) {\n        if (this.hitAnimation % 2 === 0 || this.hitAnimation === 1) {\n          this.renderHit();\n        } else {\n          this.removeHit();\n          if (this.hitAnimation >= 8) {\n            this.hitAnimation = -1;\n            this.cheat = false;\n            this.codeIndex = 0;\n          }\n        }\n        this.hitAnimation++;\n      }\n    }\n    if (this.lookForward()) {\n      this.speed = 1;\n    }\n    let bounce = false;\n    let offset = 1000;\n    for (let i = 0; i < this.speed; i++) {\n      this.sprite.x += this.right;\n      this.sprite.y += this.down;\n      if ((this.sprite.x <= 0 && this.right < 0) || (this.sprite.x > this.app.renderer.width - this.sprite.width && this.right > 0)) {\n        offset = Math.min(this.app.renderer.height - this.sprite.height - this.sprite.y, this.sprite.y);\n        this.right *= -1;\n        bounce = true;\n      }\n      if ((this.sprite.y <= 0 && this.down < 0) || (this.sprite.y > this.app.renderer.height - this.sprite.height && this.down > 0)) {\n        offset = Math.min(this.app.renderer.width - this.sprite.width - this.sprite.x, this.sprite.x);\n        this.down *= -1;\n        bounce = true;\n      }\n    }\n    if (bounce && this.hitAnimation === 0) {\n      if (offset < 0.5) {\n        this.hitAnimation = 1;\n        this.renderHit();\n      } else {\n        if (offset < near && this.nearMissAnimation === 0 && !this.cheat) {\n          this.nearMissAnimation = 1;\n          this.renderMissedBy(offset);\n        }\n      }\n      const rgb = [];\n      for (let i = 0; i < 3; i++) {\n        rgb.push((Math.random() * 128) + 128);\n      }\n      const index = Math.floor(Math.random() * rgb.length);\n      rgb[Math.floor(Math.random() * rgb.length)] = 0;\n      this.sprite.tint = ((1 << 24) + (rgb[0] << 16) + (rgb[1] << 8) + rgb[2]);\n    }\n  }\n\n  lookForward() {\n    let down = this.down;\n    let right = this.right;\n    let x = this.sprite.x;\n    let y = this.sprite.y;\n    for (let i = 0; i < (this.cheat ? 1000 : 150); i++) {\n      x += right;\n      y += down;\n      let offset = -1;\n      if ((x <= 0 && right < 0) || (x > this.app.renderer.width - this.sprite.width && right > 0)) {\n        offset = Math.min(this.app.renderer.height - this.sprite.height - y, y);\n        right *= -1;\n      }\n      if ((y <= 0 && down < 0) || (y > this.app.renderer.height - this.sprite.height && down > 0)) {\n        offset = Math.min(this.app.renderer.width - this.sprite.width - x, x);\n        down *= -1;\n      }\n      if (offset > 0) {\n        if (this.cheat) {\n          return offset < 0.5;\n        }\n        return offset < near;\n      }\n    }\n    return false;\n  }\n\n  render() {\n    return (\n      <div ref={element => this.injectPixiContext(element)} />\n    );\n  }\n}\n\nexport default App;\n\nfunction keyboard(value) {\n  let key = {};\n  key.value = value;\n  key.isDown = false;\n  key.isUp = true;\n  key.press = undefined;\n  key.release = undefined;\n  key.downHandler = event => {\n    if (event.key === key.value) {\n      if (key.isUp && key.press) key.press();\n      key.isDown = true;\n      key.isUp = false;\n      event.preventDefault();\n    }\n  };\n\n  key.upHandler = event => {\n    if (event.key === key.value) {\n      if (key.isDown && key.release) key.release();\n      key.isDown = false;\n      key.isUp = true;\n      event.preventDefault();\n    }\n  };\n\n  const downListener = key.downHandler.bind(key);\n  const upListener = key.upHandler.bind(key);\n\n  window.addEventListener(\n    \"keydown\", downListener, false\n  );\n  window.addEventListener(\n    \"keyup\", upListener, false\n  );\n\n  key.unsubscribe = () => {\n    window.removeEventListener(\"keydown\", downListener);\n    window.removeEventListener(\"keyup\", upListener);\n  };\n\n  return key;\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}